(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},82306,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(67762),n=e.i(86614),r=e.i(18566),i=e.i(91432),a=e.i(22016);function o(){let{publicKey:e,connected:o,disconnect:c}=(0,l.useWallet)(),{setVisible:d}=(0,n.useWalletModal)(),{isAuthenticated:m,refreshAuth:u}=(0,i.useAuth)(),x=(0,r.useRouter)(),[h,b]=(0,s.useState)(""),[p,g]=(0,s.useState)(!1),[f,j]=(0,s.useState)(""),[v,N]=(0,s.useState)(1);(0,s.useEffect)(()=>{m&&x.push("/sign")},[m,x]),(0,s.useEffect)(()=>{o&&1===v&&c()},[]);let y=async()=>{if(e&&h.trim()){g(!0),j("");try{let t=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet_address:e.toBase58(),display_name:h.trim()})}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to create account");await u(),x.push("/sign")}catch(e){j(e instanceof Error?e.message:"Something went wrong")}finally{g(!1)}}};return((0,s.useEffect)(()=>{o&&2===v&&N(3)},[o,v]),m)?null:(0,t.jsxs)("div",{className:"max-w-md mx-auto px-4 py-16",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-zinc-100 mb-2",children:"Create Your Creator Account"}),(0,t.jsx)("p",{className:"text-zinc-400",children:"Sign your media and prove authenticity"})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${v>e?"bg-green-500/20 text-green-400":v===e?"bg-blue-500/20 text-blue-400 ring-2 ring-blue-500/50":"bg-zinc-800 text-zinc-500"}`,children:v>e?"âœ“":e}),e<3&&(0,t.jsx)("div",{className:`w-16 sm:w-24 h-0.5 mx-2 ${v>e?"bg-green-500/50":"bg-zinc-800"}`})]},e))}),1===v&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"Choose your creator name"}),(0,t.jsx)("p",{className:"text-sm text-zinc-400 mb-4",children:"This is how you'll appear when others verify your signed images."}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),h.trim())?h.trim().length<2?j("Display name must be at least 2 characters"):(j(""),N(2)):j("Please enter a display name")},children:[(0,t.jsx)("input",{type:"text",value:h,onChange:e=>b(e.target.value),placeholder:"Enter your name",maxLength:50,autoFocus:!0,className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 placeholder-zinc-500 focus:border-blue-500 focus:outline-none mb-4"}),f&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:f}),(0,t.jsx)("button",{type:"submit",className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all",children:"Continue"})]})]}),2===v&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"Connect your Solana wallet"}),(0,t.jsx)("p",{className:"text-sm text-zinc-400 mb-4",children:"Your wallet address will be your unique creator ID. All signed images will be linked to this wallet."}),(0,t.jsx)("div",{className:"p-4 bg-zinc-800/50 rounded-lg mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-zinc-300",children:["Signing up as: ",(0,t.jsx)("span",{className:"font-medium text-zinc-100",children:h})]})}),(0,t.jsxs)("button",{onClick:()=>{d(!0)},className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Connect Wallet"]}),(0,t.jsx)("button",{onClick:()=>N(1),className:"w-full mt-3 py-2 text-sm text-zinc-400 hover:text-zinc-300 transition-colors",children:"Back"})]}),3===v&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"Confirm your account"}),(0,t.jsx)("p",{className:"text-sm text-zinc-400 mb-4",children:"Review your details and create your creator account."}),(0,t.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-zinc-800/50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Creator Name"}),(0,t.jsx)("p",{className:"font-medium text-zinc-100",children:h})]}),(0,t.jsxs)("div",{className:"p-4 bg-zinc-800/50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Wallet Address"}),(0,t.jsxs)("p",{className:"font-mono text-sm text-zinc-300",children:[e?.toBase58().slice(0,12),"...",e?.toBase58().slice(-12)]})]})]}),f&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:f}),(0,t.jsx)("button",{onClick:y,disabled:p,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating Account...":"Create Account"}),(0,t.jsx)("button",{onClick:()=>{c(),N(2)},className:"w-full mt-3 py-2 text-sm text-zinc-400 hover:text-zinc-300 transition-colors",children:"Use Different Wallet"})]})]}),(0,t.jsxs)("p",{className:"text-center text-zinc-500 text-sm mt-6",children:["Already have an account?"," ",(0,t.jsx)(a.default,{href:"/login",className:"text-blue-400 hover:text-blue-300",children:"Log in"})]})]})}e.s(["default",()=>o])}]);