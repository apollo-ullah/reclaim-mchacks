{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/adyanullah/Documents/GitHub/reclaim-mchacks/app/signup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\nimport { useWalletModal } from \"@solana/wallet-adapter-react-ui\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport Link from \"next/link\";\n\nexport default function SignupPage() {\n  const { publicKey, connected, disconnect } = useWallet();\n  const { setVisible } = useWalletModal();\n  const { isAuthenticated, refreshAuth } = useAuth();\n  const router = useRouter();\n\n  const [displayName, setDisplayName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [step, setStep] = useState(1);\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      router.push(\"/sign\");\n    }\n  }, [isAuthenticated, router]);\n\n  // Disconnect wallet on mount to ensure clean state\n  useEffect(() => {\n    if (connected && step === 1) {\n      disconnect();\n    }\n  }, []);\n\n  const handleNameSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!displayName.trim()) {\n      setError(\"Please enter a display name\");\n      return;\n    }\n    if (displayName.trim().length < 2) {\n      setError(\"Display name must be at least 2 characters\");\n      return;\n    }\n    setError(\"\");\n    setStep(2);\n  };\n\n  const handleConnectWallet = () => {\n    setVisible(true);\n  };\n\n  const handleCreateAccount = async () => {\n    if (!publicKey || !displayName.trim()) return;\n\n    setIsSubmitting(true);\n    setError(\"\");\n\n    try {\n      const response = await fetch(\"/api/auth/signup\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          wallet_address: publicKey.toBase58(),\n          display_name: displayName.trim(),\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to create account\");\n      }\n\n      await refreshAuth();\n      router.push(\"/sign\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Something went wrong\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Auto-advance to step 3 when wallet connects\n  useEffect(() => {\n    if (connected && step === 2) {\n      setStep(3);\n    }\n  }, [connected, step]);\n\n  if (isAuthenticated) {\n    return null;\n  }\n\n  return (\n    <div className=\"max-w-md mx-auto px-4 py-16\">\n      <div className=\"text-center mb-8\">\n        <h1 className=\"text-3xl font-bold text-zinc-100 mb-2\">\n          Create Your Creator Account\n        </h1>\n        <p className=\"text-zinc-400\">\n          Sign your media and prove authenticity\n        </p>\n      </div>\n\n      <div className=\"bg-zinc-900 rounded-xl border border-zinc-800 p-6\">\n        {/* Progress Steps */}\n        <div className=\"flex items-center justify-between mb-8\">\n          {[1, 2, 3].map((s) => (\n            <div key={s} className=\"flex items-center\">\n              <div\n                className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${\n                  step > s\n                    ? \"bg-green-500/20 text-green-400\"\n                    : step === s\n                    ? \"bg-blue-500/20 text-blue-400 ring-2 ring-blue-500/50\"\n                    : \"bg-zinc-800 text-zinc-500\"\n                }`}\n              >\n                {step > s ? \"âœ“\" : s}\n              </div>\n              {s < 3 && (\n                <div\n                  className={`w-16 sm:w-24 h-0.5 mx-2 ${\n                    step > s ? \"bg-green-500/50\" : \"bg-zinc-800\"\n                  }`}\n                />\n              )}\n            </div>\n          ))}\n        </div>\n\n        {/* Step 1: Enter Display Name */}\n        {step === 1 && (\n          <div>\n            <h2 className=\"text-lg font-semibold text-zinc-100 mb-2\">\n              Choose your creator name\n            </h2>\n            <p className=\"text-sm text-zinc-400 mb-4\">\n              This is how you&apos;ll appear when others verify your signed images.\n            </p>\n            <form onSubmit={handleNameSubmit}>\n              <input\n                type=\"text\"\n                value={displayName}\n                onChange={(e) => setDisplayName(e.target.value)}\n                placeholder=\"Enter your name\"\n                maxLength={50}\n                autoFocus\n                className=\"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 placeholder-zinc-500 focus:border-blue-500 focus:outline-none mb-4\"\n              />\n              {error && (\n                <div className=\"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm\">\n                  {error}\n                </div>\n              )}\n              <button\n                type=\"submit\"\n                className=\"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all\"\n              >\n                Continue\n              </button>\n            </form>\n          </div>\n        )}\n\n        {/* Step 2: Connect Wallet */}\n        {step === 2 && (\n          <div>\n            <h2 className=\"text-lg font-semibold text-zinc-100 mb-2\">\n              Connect your Solana wallet\n            </h2>\n            <p className=\"text-sm text-zinc-400 mb-4\">\n              Your wallet address will be your unique creator ID. All signed images will be linked to this wallet.\n            </p>\n\n            <div className=\"p-4 bg-zinc-800/50 rounded-lg mb-4\">\n              <p className=\"text-sm text-zinc-300\">\n                Signing up as: <span className=\"font-medium text-zinc-100\">{displayName}</span>\n              </p>\n            </div>\n\n            <button\n              onClick={handleConnectWallet}\n              className=\"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all flex items-center justify-center gap-2\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\" />\n              </svg>\n              Connect Wallet\n            </button>\n\n            <button\n              onClick={() => setStep(1)}\n              className=\"w-full mt-3 py-2 text-sm text-zinc-400 hover:text-zinc-300 transition-colors\"\n            >\n              Back\n            </button>\n          </div>\n        )}\n\n        {/* Step 3: Confirm & Create */}\n        {step === 3 && (\n          <div>\n            <h2 className=\"text-lg font-semibold text-zinc-100 mb-2\">\n              Confirm your account\n            </h2>\n            <p className=\"text-sm text-zinc-400 mb-4\">\n              Review your details and create your creator account.\n            </p>\n\n            <div className=\"space-y-3 mb-6\">\n              <div className=\"p-4 bg-zinc-800/50 rounded-lg\">\n                <p className=\"text-xs text-zinc-500 mb-1\">Creator Name</p>\n                <p className=\"font-medium text-zinc-100\">{displayName}</p>\n              </div>\n              <div className=\"p-4 bg-zinc-800/50 rounded-lg\">\n                <p className=\"text-xs text-zinc-500 mb-1\">Wallet Address</p>\n                <p className=\"font-mono text-sm text-zinc-300\">\n                  {publicKey?.toBase58().slice(0, 12)}...{publicKey?.toBase58().slice(-12)}\n                </p>\n              </div>\n            </div>\n\n            {error && (\n              <div className=\"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm\">\n                {error}\n              </div>\n            )}\n\n            <button\n              onClick={handleCreateAccount}\n              disabled={isSubmitting}\n              className=\"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSubmitting ? \"Creating Account...\" : \"Create Account\"}\n            </button>\n\n            <button\n              onClick={() => {\n                disconnect();\n                setStep(2);\n              }}\n              className=\"w-full mt-3 py-2 text-sm text-zinc-400 hover:text-zinc-300 transition-colors\"\n            >\n              Use Different Wallet\n            </button>\n          </div>\n        )}\n      </div>\n\n      <p className=\"text-center text-zinc-500 text-sm mt-6\">\n        Already have an account?{\" \"}\n        <Link href=\"/login\" className=\"text-blue-400 hover:text-blue-300\">\n          Log in\n        </Link>\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":["file:///Users/adyanullah/Documents/GitHub/reclaim-mchacks/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}