{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/adyanullah/Documents/GitHub/reclaim-mchacks/lib/auth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\n\ninterface Creator {\n  id: string;\n  display_name: string | null;\n  created_at: string;\n}\n\ninterface AuthContextType {\n  creator: Creator | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  walletConnected: boolean;\n  needsSignup: boolean;\n  refreshAuth: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const { publicKey, connected } = useWallet();\n  const [creator, setCreator] = useState<Creator | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [needsSignup, setNeedsSignup] = useState(false);\n\n  const checkAuth = async () => {\n    if (!publicKey) {\n      setCreator(null);\n      setNeedsSignup(false);\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const walletAddress = publicKey.toBase58();\n      const response = await fetch(`/api/auth/check?wallet=${walletAddress}`);\n      const data = await response.json();\n\n      if (data.exists) {\n        setCreator(data.creator);\n        setNeedsSignup(false);\n      } else {\n        setCreator(null);\n        setNeedsSignup(true);\n      }\n    } catch (error) {\n      console.error(\"Auth check failed:\", error);\n      setCreator(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    checkAuth();\n  }, [publicKey]);\n\n  const refreshAuth = async () => {\n    await checkAuth();\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        creator,\n        isLoading,\n        isAuthenticated: !!creator,\n        walletConnected: connected,\n        needsSignup,\n        refreshAuth,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth(): AuthContextType {\n  const context = useContext(AuthContext);\n  // Return default values if used outside provider (e.g., during static generation)\n  if (context === undefined) {\n    return {\n      creator: null,\n      isLoading: true,\n      isAuthenticated: false,\n      walletConnected: false,\n      needsSignup: false,\n      refreshAuth: async () => {},\n    };\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAoBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,IAAA,iMAAS;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,YAAY;QAChB,IAAI,CAAC,WAAW;YACd,WAAW;YACX,eAAe;YACf;QACF;QAEA,aAAa;QACb,IAAI;YACF,MAAM,gBAAgB,UAAU,QAAQ;YACxC,MAAM,WAAW,MAAM,MAAM,CAAC,uBAAuB,EAAE,eAAe;YACtE,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,MAAM,EAAE;gBACf,WAAW,KAAK,OAAO;gBACvB,eAAe;YACjB,OAAO;gBACL,WAAW;gBACX,eAAe;YACjB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,WAAW;QACb,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG;QAAC;KAAU;IAEd,MAAM,cAAc;QAClB,MAAM;IACR;IAEA,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA,iBAAiB,CAAC,CAAC;YACnB,iBAAiB;YACjB;YACA;QACF;kBAEC;;;;;;AAGP;GAxDgB;;QACmB,iMAAS;;;KAD5B;AA0DT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,kFAAkF;IAClF,IAAI,YAAY,WAAW;QACzB,OAAO;YACL,SAAS;YACT,WAAW;YACX,iBAAiB;YACjB,iBAAiB;YACjB,aAAa;YACb,aAAa,WAAa;QAC5B;IACF;IACA,OAAO;AACT;IAdgB"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///Users/adyanullah/Documents/GitHub/reclaim-mchacks/components/WalletProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC, ReactNode, useMemo, useState, useEffect } from \"react\";\nimport {\n  ConnectionProvider,\n  WalletProvider as SolanaWalletProvider,\n} from \"@solana/wallet-adapter-react\";\nimport { WalletModalProvider } from \"@solana/wallet-adapter-react-ui\";\nimport { PhantomWalletAdapter, SolflareWalletAdapter } from \"@solana/wallet-adapter-wallets\";\nimport { clusterApiUrl } from \"@solana/web3.js\";\nimport { AuthProvider } from \"@/lib/auth-context\";\n\n// Import wallet adapter styles\nimport \"@solana/wallet-adapter-react-ui/styles.css\";\n\ninterface WalletProviderProps {\n  children: ReactNode;\n}\n\nexport const WalletProvider: FC<WalletProviderProps> = ({ children }) => {\n  const [mounted, setMounted] = useState(false);\n\n  // Use devnet for development - can switch to mainnet-beta for production\n  const endpoint = useMemo(() => clusterApiUrl(\"devnet\"), []);\n\n  const wallets = useMemo(\n    () => [\n      new PhantomWalletAdapter(),\n      new SolflareWalletAdapter(),\n    ],\n    []\n  );\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Prevent hydration errors by not rendering wallet UI until mounted\n  if (!mounted) {\n    return <>{children}</>;\n  }\n\n  return (\n    <ConnectionProvider endpoint={endpoint}>\n      <SolanaWalletProvider wallets={wallets} autoConnect>\n        <WalletModalProvider>\n          <AuthProvider>{children}</AuthProvider>\n        </WalletModalProvider>\n      </SolanaWalletProvider>\n    </ConnectionProvider>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAIA;AACA;AAAA;AACA;AACA;;;AAVA;;;;;;;;AAmBO,MAAM,iBAA0C,CAAC,EAAE,QAAQ,EAAE;;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,yEAAyE;IACzE,MAAM,WAAW,IAAA,wKAAO;4CAAC,IAAM,IAAA,4LAAa,EAAC;2CAAW,EAAE;IAE1D,MAAM,UAAU,IAAA,wKAAO;2CACrB,IAAM;gBACJ,IAAI,4MAAoB;gBACxB,IAAI,8MAAqB;aAC1B;0CACD,EAAE;IAGJ,IAAA,0KAAS;oCAAC;YACR,WAAW;QACb;mCAAG,EAAE;IAEL,oEAAoE;IACpE,IAAI,CAAC,SAAS;QACZ,qBAAO;sBAAG;;IACZ;IAEA,qBACE,6LAAC,mNAAkB;QAAC,UAAU;kBAC5B,cAAA,6LAAC,2MAAoB;YAAC,SAAS;YAAS,WAAW;sBACjD,cAAA,6LAAC,2NAAmB;0BAClB,cAAA,6LAAC,0IAAY;8BAAE;;;;;;;;;;;;;;;;;;;;;AAKzB;GAhCa;KAAA"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///Users/adyanullah/Documents/GitHub/reclaim-mchacks/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\n\nexport function Header() {\n  const { creator, isAuthenticated, isLoading } = useAuth();\n  const { disconnect } = useWallet();\n\n  const handleLogout = () => {\n    disconnect();\n  };\n\n  return (\n    <header className=\"border-b border-zinc-800 bg-zinc-950/80 backdrop-blur-sm sticky top-0 z-50\">\n      <div className=\"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between\">\n        <Link href=\"/\" className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n            <svg\n              className=\"w-5 h-5 text-white\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\n              />\n            </svg>\n          </div>\n          <span className=\"font-semibold text-lg text-zinc-100\">Reclaim</span>\n        </Link>\n\n        <nav className=\"flex items-center gap-4 sm:gap-6\">\n          {isAuthenticated && (\n            <Link\n              href=\"/sign\"\n              className=\"text-sm text-zinc-400 hover:text-zinc-100 transition-colors\"\n            >\n              Sign\n            </Link>\n          )}\n          <Link\n            href=\"/verify\"\n            className=\"text-sm text-zinc-400 hover:text-zinc-100 transition-colors\"\n          >\n            Verify\n          </Link>\n\n          {isLoading ? (\n            <div className=\"w-8 h-8 rounded-full bg-zinc-800 animate-pulse\" />\n          ) : isAuthenticated && creator ? (\n            /* Authenticated - Show creator profile dropdown */\n            <div className=\"relative group\">\n              <Link\n                href={`/creator/${creator.id}`}\n                className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-zinc-800 transition-colors\"\n              >\n                <div className=\"w-7 h-7 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-xs text-white font-medium\">\n                  {creator.display_name?.[0]?.toUpperCase() || \"?\"}\n                </div>\n                <span className=\"hidden sm:inline text-sm text-zinc-200\">\n                  {creator.display_name}\n                </span>\n              </Link>\n\n              {/* Dropdown */}\n              <div className=\"absolute right-0 top-full mt-1 w-48 bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all\">\n                <div className=\"p-3 border-b border-zinc-800\">\n                  <p className=\"text-sm font-medium text-zinc-200\">{creator.display_name}</p>\n                  <p className=\"text-xs text-zinc-500 font-mono mt-0.5\">\n                    {creator.id.slice(0, 6)}...{creator.id.slice(-4)}\n                  </p>\n                </div>\n                <div className=\"p-1\">\n                  <Link\n                    href={`/creator/${creator.id}`}\n                    className=\"block px-3 py-2 text-sm text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800 rounded transition-colors\"\n                  >\n                    View Profile\n                  </Link>\n                  <button\n                    onClick={handleLogout}\n                    className=\"w-full text-left px-3 py-2 text-sm text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800 rounded transition-colors\"\n                  >\n                    Log Out\n                  </button>\n                </div>\n              </div>\n            </div>\n          ) : (\n            /* Not authenticated - Show login/signup CTAs */\n            <div className=\"flex items-center gap-2\">\n              <Link\n                href=\"/login\"\n                className=\"text-sm text-zinc-400 hover:text-zinc-100 transition-colors hidden sm:inline\"\n              >\n                Log in\n              </Link>\n              <Link\n                href=\"/signup\"\n                className=\"text-sm px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all\"\n              >\n                Sign Up\n              </Link>\n            </div>\n          )}\n        </nav>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,qIAAO;IACvD,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,iMAAS;IAEhC,MAAM,eAAe;QACnB;IACF;IAEA,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,0KAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACvB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,6LAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;sCAIR,6LAAC;4BAAK,WAAU;sCAAsC;;;;;;;;;;;;8BAGxD,6LAAC;oBAAI,WAAU;;wBACZ,iCACC,6LAAC,0KAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAIH,6LAAC,0KAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;wBAIA,0BACC,6LAAC;4BAAI,WAAU;;;;;mCACb,mBAAmB,UACrB,iDAAiD,iBACjD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,0KAAI;oCACH,MAAM,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE;oCAC9B,WAAU;;sDAEV,6LAAC;4CAAI,WAAU;sDACZ,QAAQ,YAAY,EAAE,CAAC,EAAE,EAAE,iBAAiB;;;;;;sDAE/C,6LAAC;4CAAK,WAAU;sDACb,QAAQ,YAAY;;;;;;;;;;;;8CAKzB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAE,WAAU;8DAAqC,QAAQ,YAAY;;;;;;8DACtE,6LAAC;oDAAE,WAAU;;wDACV,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG;wDAAG;wDAAI,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC;;;;;;;;;;;;;sDAGlD,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,0KAAI;oDACH,MAAM,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE;oDAC9B,WAAU;8DACX;;;;;;8DAGD,6LAAC;oDACC,SAAS;oDACT,WAAU;8DACX;;;;;;;;;;;;;;;;;;;;;;;mCAOP,8CAA8C,iBAC9C,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GA5GgB;;QACkC,qIAAO;QAChC,iMAAS;;;KAFlB"}}]
}